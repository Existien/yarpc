/* Generated by YARPC
 * Version:  0.1.0
 * Definition:
 *   File: /workspace/tests/definitions/03_structs.yml
 *   Object: Structs
 *   Template: qt6/service_header.j2
 */
#pragma once
#include <QObject>
#include <qqmlintegration.h>
#include <QDBusAbstractAdaptor>
#include <QDBusMessage>
#include "StructsInterface.hpp"

namespace gen::structs {

/**
 * @brief D-Bus adaptor for the Structs interface.
 */
class StructsInterfaceAdaptor : public QDBusAbstractAdaptor {
    Q_OBJECT
    Q_CLASSINFO("D-Bus Interface", "com.yarpc.testservice.structs")
    /**
     * @brief a property for a simple struct
     */
    Q_PROPERTY( Simple READ getSimple WRITE setSimple )

public:
    StructsInterfaceAdaptor(StructsInterface* iface, QObject* parent = nullptr);
public slots:
    /**
     * @brief a method with a struct as args
     *
     * @param simpleStruct the SimpleStruct to send
     * @param _message The D-Bus message object
     *
     * @returns the SimpleStruct
     */
     SendStruct(
         simpleStruct,
        const QDBusMessage &_message
    );
signals:
    /**
     * @brief a signal with a struct as args
     *
     * @param simpleStruct the SimpleStruct
     * @param totalCosts the total costs
     *
     */
    void StructReceived(
         simpleStruct,
        double totalCosts
    );
private:
     getSimple() const;
    void setSimple(const  &value );
    StructsInterface* m_iface;
};

}