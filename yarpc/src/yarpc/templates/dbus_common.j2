{#
    Find *type_as_str* in *objects*
    and return the respective D-Bus type
#}
{% macro type(type_as_str, objects) %}
{%- set object = type_as_str|find_type(objects) -%}
{%- if object.kind == 'struct' -%}
({% for member in object.members %}{{ type(member.type, objects) }}{% endfor %})
{%- elif object.kind == 'builtin' -%}
{{ object.dbus }}
{%- endif -%}
{%- endmacro %}